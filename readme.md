# Проэкт "Фотошторм" #

Python API, консольная утилита и WEB-интерфейс для упорядочивания фотографий, управления локальным фотоархивом и публикации на сайте.

## Назначение:

- Инициализация фотоархива:
    - первичное упорядочивание фотографий по каталогам
    - дедупликация фотографий и группировка разных представлений (jpeg, raw, preview)
    - индексирование каталогов с фотографиями
- Консолидация:
    - загрузка фотографий со сменных носителей (карт памяти, камер, видеорегистраторов, дисков)
    - загрузка и слияние фотографий из резервных копий, других фотоархивов
- Резервирование:
    - формирование внешнего фото-архива как части или резервной копии от основного
    - выгрузка фотографий для резервирования в обаке (гугл, яндекс, собственное хранилище на S3 или VDS)
    - мониторинг состояния резверных копий
    - синхронизация резеврных копий
    - распределение резервных копий и общих альбомов среди доверенных домашних фото-архивов родственников и друзей
- Выборка подмножества фотографий архива по критериям (даты, теги, формат, атрибуты метаданых)
    - формирование на основе выборки html-слайдшоу
        - предзагрузка и кэширование для комфортного перелистывания
        - переход к быстрому тайловому прсмотру разного масштаба и к полноэкранному режиму
        - опциональное тематическое музыкальное сопровождение
- Публикация фотоархивов в виде веб-галереи в инетрнете или в локальной домашней сети.
    - авторизация, многопользовательский режим для родных, друзей и близких
    - управление правами доступа к альбомам и фотоархивам
    - публикация API для интеграции фотоархива в сеть доверенных фотоархивов с целью резервирования и обмена


## Функциональность ##
- Индексация дерева каталогов в sqlite
- Поиск и связывания фотографий с их RAW-файлами
- Индексация хеш-сумм файлов и самого изображения
- Слияние EXIF-метаданных
- Коррекция дат в соответствии с EXIF
- Коррекция времени съёмки в соответствии с опорным времением на часах в кадре
- Геолокация
    - Запись геолокации в EXIF
    - Трассировка треков и поиск соответствующих фотографий
    - Проставление тегов геолокации по треку
    - Формирование KML-файла с POI в местах съёмки
- Переименование файлов с включением даты съёмки

- Поиск различий между каталогами с фотографиями
- Слияние каталогов
- Раскладывание фотографий по датам в каталогах
- Обработка файлов с тегами от сторонних программ (picasa, что-то еще?)
- Вынесение коллекции RAW-файлов в отдельное дерево

- Группировка по съёмочному дню, съёмочному эпизоду, путешествию (даты границ или начало и длительность)
- Захват, обработка, группировка и перемещение на хранение фотографий с флеш-накопителей
- Распознавание и группировка кейсов:
    - брекетинга - недоэкспонированных и переэкспониированных кадров (для HDR)
    - панорам
    - серий, тегирование лучших кадров из серии
    - таймлапсов и гиперлапсов
    - калибровочных черных и белых кадров (статический шум, пыль на матрице)
    - кадров без фокуса (оценка относительной площади кадра в фокусе?)
    - кадров с несработавшей вспышкой (рядом были кадры со вспышкой при тех же настройках)
    - "битых" кадров
    - кадров с часами для калибровки времени
    - нахождение и привязка аудио-записей, пересекающихся по времени с кадрами (тегирование кадров ссылкой)

- Журналирование операций
- Формирование инкрементальных бэкапов (с отражением в индексе и EXIF)
- Формирование html-галереи
- Распознавание и группировка по лицам (функциональность picasa)
- Компиляция галерей в статические HTML-страницы


## Локальный веб-сервер для просмотра иправления фото-архивом ##
  - галереи
  - слайдшоу
  - регулирование времени прокрутки
  - пауза
  - быстрая промотка
  - пропуск похожих
  - опциональное отображение тегов, дат, путей...
  - динамическое панорамирование
    - настраиваемый фон
    - вписывание фото в экран (полное, обрезка краями)
    - быстрое тегирование горячими клавишами
    - фильтрация
        - по датам
        - по тегам
        - по наличию геолокации
        - по параметрам из EXIF
        - по наличию RAW